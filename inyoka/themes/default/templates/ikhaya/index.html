{% extends 'ikhaya/base.html' %}

{% block breadcrumb %}
  <li class="active">{% trans %}News{% endtrans %}</li>
{% endblock %}

{% block content %}
  {{ pagination.generate() }}
  {% for article in articles %}
    <article class="panel panel-default article" id="article-{{ article.id }}">
      <div class="panel-heading">
        <time datetime="{{ article.pub_datetime|datetime('c') }}"
              class="pull-right">{{ article.pub_datetime|datetime }}</time>
        <a href="{{ article|url }}">{{ article.subject }}</a>

        <div class="clearfix"></div>
      </div>
      <div class="panel-body">
        {{ article.rendered_intro }}
      </div>
      <div class="panel-footer">
        <ul class="list-inline">
          <li>
            {% trans %}Category:{% endtrans %}
            <a href="{{ article.category|url }}">{{ article.category.name|e }}</a>
          </li>
          <li>
            {% trans count=article.comment_count %}
              {{ count }} comment
              {% pluralize %}
              {{ count }} comments
            {% endtrans %}
          </li>
          {% if article.updated > article.pub_datetime %}
            <li class="pull-right">
              <time datetime="{{ article.updated|datetime('c') }}">
                {% trans %}Last update:{% endtrans %} {{ article.updated|datetime }}
              </time>
            </li>
          {% endif %}</ul>
        <div class="clearfix"></div>
      </div>
    </article>
  {% endfor %}
  {{ pagination.generate() }}
{% endblock %}