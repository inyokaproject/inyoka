(function(){var o={text:"Code ohne Highlighting",bash:"Bash",c:"C",csharp:"C#",cpp:"C++",css:"CSS",d:"D","html+django":"Django / Jinja Templates",html:"HTML",irc:"IRC Logs",java:"Java",js:"JavaScript",perl:"Perl","html+php":"PHP",python:"Python",pycon:"Python Console Sessions",pytb:"Python Tracebacks",ruby:"Ruby",sourceslist:"sources.list",sql:"SQL",xml:"XML"},j=function(a,c,b,d,e){return function(g){if(!d||$.inArray(g.profile,d)>-1)return $('<a href="#" class="button" />').attr("id","button-"+a).attr("title",
c).mouseover(function(f){f.preventDefault();e.call(g,f)}).mouseout(function(f){f.preventDefault()}).append($("<span />").text(c)).click(function(f){f.preventDefault();return b.call(g,f)})}},n=function(a,c,b,d,e,g){return function(f){if(!(e&&$.inArray(f.profile,e))){var m=$("<select />").attr("id","dropdown-"+a).attr("title",c).append($('<option class="title" value="" />').text(c)).mouseover(function(l){g.call(f,l)}).mouseout(function(){}).change(function(l){d.call(f,l)});$.each(b,function(){m.append(this)});
m[0].selectedIndex=0;return m}}},h=function(a,c){return $("<option />").val(a).text(c||a)},k=function(a,c){return function(){return this.insertTag(a,typeof c=="undefined"?"Formatierter Text":c)}},i=function(){return function(){}},p=function(){return[j("bold","Fetter Text",k("'''%s'''"),["wiki","forum","small"],i("'''Text'''")),j("italic","Kursiver Text",k("''%s''"),["wiki","forum","small"],i("''Text''")),j("underlined","Unterstrichener Text",k("__%s__"),["forum","small"],i("__Text__")),j("stroke",
"Durchgestrichener Text",k("--(%s)--"),["forum"],i("--(Text)--")),j("monospace","Monotype",k("`%s`"),["wiki"],i("`Text`")),j("mark","Hervorgehobener Text",k("[mark]%s[/mark]"),["forum"],i("[mark]Text[/mark]")),j("wiki-link","Wiki-Link",k("[:%s:]","Seitenname"),["wiki","forum"],i("[:Seitenname:(Linktext)]")),j("external-link","Externer Link",k("[%s]","http://www.example.org/"),["wiki","forum","small"],i("[www.example.com]")),j("user-link","Benutzerlink",k("[user:%s:]","Benutzername"),["forum"],i("[user:Beispiel:]")),
j("quote","Auswahl zitieren",function(){var a=this.getSelection();a.length&&this.setSelection(this.quoteText(a))},["forum"],i("Auswahl zitieren")),j("picture","Bild",k("[[Bild(%s)]]","Bildname"),["wiki","forum"],i("[[Bild(Bildname)]]")),function(a){if(a.profile!="small"){var c=$("<div />");j("pre","Codeblock",function(){b.slideToggle("fast");return false},["wiki","forum"],i("Code einf\u00fcgen"))(a).appendTo(c);var b=$('<table class="codebox" />').appendTo(c).hide();b[0].style.display="none";var d=
[$("<td>Rohtext</td>").click(function(){a.insertTag("{{{\n%s\n}}}","Code")})];$.each(o,function(g,f){d.push($("<td>"+f+"</td>").click(function(){a.insertTag("{{{#!code "+g+"\n%s\n}}}","Code")}))});for(var e=0;e<d.length/2;e++)$("<tr />").appendTo(b).append(d[e],d[e+d.length/2]);$(document).click(function(){b.is(":visible")&&b.slideUp("fast")});return c}},function(a){if(a.profile=="forum"){var c=$("<div />");j("smilies","Smilies",function(){b.slideToggle("fast");return false},["forum"],i("Smiley einf\u00fcgen"))(a).appendTo(c);
var b=$('<ul class="smileybox" />').appendTo(c).hide();b[0].style.display="none";$.getJSON("/?__service__=wiki.get_smilies",function(d){$.each(d,function(){var e=this[0],g=this[1];$("<li />").append($("<img />").attr("src",g).attr("alt",e).click(function(){a.insertText(" "+e+" ")})).appendTo(b)})});$(document).click(function(){b.is(":visible")&&b.slideUp("fast")});return c}},n("headline","\u00dcberschrift",[h("=","\u00dcberschrift: Stufe 1"),h("==","\u00dcberschrift: Stufe 2"),h("===","\u00dcberschrift: Stufe 3"),
h("====","\u00dcberschrift: Stufe 4"),h("=====","\u00dcberschrift: Stufe 5")],function(a){var c=a.target.value;c.length>0&&this.insertTag(c+" %s "+c+"\n","\u00dcberschrift");a.target.selectedIndex=0},["wiki"],i("= \u00dcberschrift =")),n("macro","Textbausteine",[h("[[Vorlage(InArbeit, %s)]]","in Arbeit"),h("[[Inhaltsverzeichnis(%s)]]","Inhaltsverzeichnis"),h("[[Vorlage(Getestet, %s)]]","Getestet"),h("{{{#!vorlage Paketinstallation\n{S/Paket, info}\n}}}","Paketinstallation"),h("{{{#!vorlage Befehl\n%s\n}}}",
"Befehl"),h("[[Vorlage(PPA, %s)]]","PPA-Vorlage"),h("{{{#!vorlage Hinweis\n%s\n}}}","Hinweis"),h('[[Vorlage(Fremd, Quelle, "%s")]]',"Fremdquelle-Warnung"),h("{{{#!vorlage Warnung\n%s\n}}}","Warnung"),h("{{{#!vorlage Experten\n%s\n}}}","Experten-Info"),h("[[Vorlage(Tasten, %s)]]","Taste"),h("{{{#!vorlage Tabelle\n{S/[:Wiki/Syntax/Tabellen:]}\n}}}","Tabelle")],function(a){a.target.value.length>0&&this.insertTag(a.target.value,"");a.target.selectedIndex=0},["wiki"],i("Textbausteine einf\u00fcgen")),
n("textformat","Textformat",[h("'''{S/Verzeichnisse}'''","Verzeichnisse"),h("''\"{S/Men\u00fc -> Untermen\u00fc -> Men\u00fcbefehl}\"''","Men\u00fcs"),h("'''{S/Dateien}'''","Dateien"),h("`{S/Befehl}`","Befehl")],function(a){a.target.value.length>0&&this.insertTag(a.target.value,"");a.target.selectedIndex=0},["wiki"],i("Textformat einf\u00fcgen")),j("shrink","Eingabefeld verkleinern",function(){var a=this.textarea.height()-50;this.textarea.height(a>=100?a:100).focus()},["forum","wiki"],i("Eingabefeld verkleinern")),
j("enlarge","Eingabefeld vergr\u00f6\u00dfern",function(){this.textarea.height(this.textarea.height()+50).focus()},["forum","wiki"],i("Eingabefeld vergr\u00f6\u00dfern"))]};WikiEditor=Class.$extend({__init__:function(a,c){var b;this.profile=c||"small";this.username=$CURRENT_USER||"Anonymous";this.smilies=null;this.textarea=$(a);this.textarea[0].inyokaWikiEditor=this;b=$('<ul class="toolbar" />').prependTo(this.textarea.parent());for(var d=p(),e=0,g=d.length,f;e!=g;++e)if(f=d[e](this))f.appendTo($("<li />").appendTo(b));
link=c=="wiki"?"http://wiki.ubuntuusers.de/Wiki/Syntax":"http://wiki.ubuntuusers.de/Forum/Syntax";$('<span class="syntax_help note"><a href="'+link+'">Hilfe zur Syntax</a></span>').appendTo($("<li />").appendTo(b))},insertTag:function(a,c){var b=this.textarea[0],d=[];if(a instanceof Array)d=a;else if(a.indexOf("%s")!=-1)d=a.split("%s",2);else{c=a.match(/{S\/(.+?)}/)[1];d=a.split("{S/"+c+"}",2)}var e=d[0]||"";d=d[1]||"";scroll=b.scrollTop;if(typeof b.selectionStart!="undefined"){var g=b.selectionStart,
f=b.selectionEnd,m=b.value.substring(0,g),l=b.value.substring(g,f),q=b.value.substring(f);l=f!=g?e+l+d:e+c+d;b.value=m+l+q;b.focus();b.selectionStart=g+e.length;b.selectionEnd=g+(l.length-d.length)}else if(typeof document.selection!="undefined"){b.focus();g=document.selection.createRange();f=g.text;g.text=e+(f.length>0?f:c)+d}b.scrollTop=scroll},getSelection:function(){var a=this.textarea[0];if(typeof a.selectionStart!="undefined"){var c=a.selectionStart,b=a.selectionEnd;return c==b?"":a.value.substring(c,
b)}else if(typeof document.selection!="undefined")return document.selection.createRange().text},setSelection:function(a,c){var b=this.textarea[0];if(typeof b.selectionStart!="undefined"){var d=b.selectionStart,e=b.selectionEnd,g=b.value.substring(0,d);e=b.value.substring(e);b.value=g+a+e;b.focus();if(c){b.selectionStart=d;b.selectionEnd=d+a.length}else b.selectionEnd=b.selectionStart=d+a.length}else if(typeof document.selection!="undefined"){b.focus();document.selection.createRange().text=a}},insertText:function(a){var c=
this.textarea[0];if(typeof c.selectionStart!="undefined")c.selectionStart=c.selectionEnd;this.setSelection(a)},getCurrentLine:function(){var a=this.textarea[0],c,b;if(typeof a.selectionStart!="undefined"){var d=[];for(c=a.selectionEnd-1;(b=a.value.charAt(c))!="\n"&&b;c--)d.push(b);d.reverse();for(c=a.selectionEnd;(b=a.value.charAt(c))!="\n"&&b;c++)d.push(b);return d.join("")}return""},setCurrentLine:function(a){var c=this.textarea[0];if(typeof c.selectionStart!="undefined"){var b,d,e;for(b=c.selectionEnd-
1;(e=c.value.charAt(b))!="\n"&&e;b--)for(d=c.selectionEnd;(e=c.value.charAt(d))!="\n"&&e;d++)c.value=c.value.substring(0,b)+a+c.value.substring(d);c.selectionStart=c.selectionEnd=b+a.length}},quoteText:function(a){if(!a)return"";var c=[];$.each(a.split(/\r\n|\r|\n/),function(){c.push(">"+(this.charAt(0)!=">"?" ":"")+this)});return c.join("\n")+"\n"}})})();
