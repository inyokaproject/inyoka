(function(a,q,r){function f(d){d=d||location.href;return"#"+d.replace(/^[^#]*#?(.*)$/,"$1")}var b="hashchange",i=document,l,s=a.event.special,t=i.documentMode,m="on"+b in q&&(t===r||t>7);a.fn[b]=function(d){return d?this.bind(b,d):this.trigger(b)};a.fn[b].delay=50;s[b]=a.extend(s[b],{setup:function(){if(m)return false;a(l.start)},teardown:function(){if(m)return false;a(l.stop)}});l=function(){function d(){var c=f(),e=u(j);if(c!==j){n(j=c,e);a(q).trigger(b)}else if(e!==j)location.href=location.href.replace(/#.*/,
"")+e;g=setTimeout(d,a.fn[b].delay)}var h={},g,j=f(),o=function(c){return c},n=o,u=o;h.start=function(){g||d()};h.stop=function(){g&&clearTimeout(g);g=r};a.browser.msie&&!m&&function(){var c,e;h.start=function(){if(!c){e=(e=a.fn[b].src)&&e+f();c=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||n(f());d()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow;i.onpropertychange=function(){try{if(event.propertyName==="title")c.document.title=i.title}catch(p){}}}};
h.stop=o;u=function(){return f(c.location.href)};n=function(p,w){var k=c.document,v=a.fn[b].domain;if(p!==w){k.title=i.title;k.open();v&&k.write('<script>document.domain="'+v+'"<\/script>');k.close();c.location.hash=p}}}();return h}()})(jQuery,this);
