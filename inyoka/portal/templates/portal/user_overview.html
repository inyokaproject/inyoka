{#
    portal/edit_user.html
    ~~~~~~~~~~~~~~~~~~~~

    Just edit an user...

    :copyright: (c) 2007-2015 by the Inyoka Team, see AUTHORS for more details.
    :license: BSD, see LICENSE for more details.
#}
{%- extends 'portal/user_admin.html' %}

{% do BREADCRUMB.append(_('Edit'), href('portal', 'user', user.urlsafe_username, 'edit'), True) %}
{% do BREADCRUMB.append(user.username, user|url, True) %}
{% do BREADCRUMB.append(_('Members'), href('portal', 'users')) %}

{% macro user_edit_button(link, icon, name) %}
  <li>
    <span><a href="{{ link }}">{#
      #}<img src="{{ href('static', 'img/portal/user_%s.png'|format(icon)) }}" alt="{{ name }}" /><br />
      {{- name -}}
    </a></span>
  </li>
{% endmacro %}

{% block content %}
  {{ super() }}
  <form enctype="multipart/form-data" id="user_edit_form" method="post" action="">
		{{ csrf_token() }}
    <div class="usercp_control">
      <ul>
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'profile'), 'profile', _('Profile')) }}
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'settings'), 'settings', _('Settings')) }}
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'groups'), 'groups', _('Group memberships')) }}
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'privileges'), 'privileges', _('Privileges')) }}
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'password'), 'password', _('Change password')) }}
        {{ user_edit_button(href('portal', 'user', user.urlsafe_username, 'edit', 'status'), 'status', _('State')) }}
      </ul>
    </div>
    <a href="{{ href('portal', 'user', user.username) }}">{% trans %}View public profile{% endtrans %}</a>
  </form>
{% endblock %}
