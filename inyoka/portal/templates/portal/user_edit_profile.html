{#
    portal/user_edit_profile.html
    ~~~~~~~~~~~~~~~~~~~~

    Change a userprofile

    :copyright: (c) 2007-2014 by the Inyoka Team, see AUTHORS for more details.
    :license: BSD, see LICENSE for more details.
#}
{%- extends 'portal/user_admin.html' %}

{% do BREADCRUMB.append(_('Profile'), href('portal', 'user', user.urlsafe_username, 'edit', 'profile'), True) %}
{% do BREADCRUMB.append(_('Edit'), href('portal', 'user', user.urlsafe_username, 'edit'), True) %}
{% do BREADCRUMB.append(user.username, user|url, True) %}
{% do BREADCRUMB.append(_('Members'), href('portal', 'users')) %}

{% block content %}
  {{ super() }}
  <form enctype="multipart/form-data" id="user_edit_form" method="post" action="">
		{{ csrf_token() }}
    {{ render_form(form, ['username'], inline=true) }}
    <dt>{{ form.member_title.label_tag() }}:</dt>
    <dd>{{ form.member_title }}
      {% if user.groups.all() %}
      <div class="group_titles">
      {% for group in user.groups.all() %}
        <input type="checkbox" name="group_titles" value="{{ group }}" /> {{ group }}
      {% endfor %}
      </div>
      {%- endif %}
    </dd>
    <h3>{% trans %}Avatar settings{% endtrans %}:</h3>
    <dt>{{ form.avatar.label_tag() }}:</dt>
    <dd><img class="usercp_avatar" src="{{ user.avatar_url }}" alt="Avatar" /></dd>
    <dd>{{ form.avatar }}</dd>
    <dd class="note">{% trans height=avatar_height, width=avatar_width -%}
      (Will be scaled to {{ width }}x{{ height }})
    {%- endtrans %}</dd>
    <h3>{% trans %}Contact addresses{% endtrans %}</h3>
    {{ render_form(form, ['email', 'jabber', 'icq', 'msn', 'aim', 'yim', 'skype', 'wengophone', 'sip']) }}
    <h3>{% trans %}Miscellaneous settings{% endtrans %}</h3>
    {{ render_form(form, ['occupation', 'interests', 'website',
                          'launchpad', 'gpgkey']) }}
    <h4>{% trans %}Geographical location{% endtrans %}</h4>
    {{ render_form(form, ['location', 'coordinates_long', 'coordinates_lat']) }}
    <h3>{% trans %}Signature{% endtrans %}</h3>
    <p>{{ form.signature }}</p>
    <p><input type="submit" value="{% trans %}Submit{% endtrans %}" /></p>
  </form>
{% endblock %}
